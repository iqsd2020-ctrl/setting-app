/**
 * data.js
 * يحتوي على جميع البيانات الثابتة: التصنيفات، المواضيع، وإعدادات الأوسمة.
 */

// 1. هيكلية التصنيفات والمواضيع
export const topics = {
    "المعصومون (عليهم السلام)": [
        "سيرة النبي محمد (ص)",
        "سيرة الإمام علي (ع)",
        "السيدة فاطمة الزهراء (ع)",
        "سيرة الإمام الحسن المجتبى (ع)",
        "سيرة الإمام الحسين (ع)",
        "سيرة الإمام السجاد (ع)",
        "سيرة الإمام الباقر (ع)",
        "سيرة الإمام الصادق (ع)",
        "سيرة الإمام الكاظم (ع)",
        "سيرة الإمام الرضا (ع)",
        "سيرة الإمام الجواد (ع)",
        "سيرة الإمام الهادي (ع)",
        "سيرة الإمام العسكري (ع)",
        "الإمام المهدي (عج)"
    ],
  
    "الأنبياء والرسل": [
        "قصص آدم وحواء وأولادهما", "في قصص إدريس (عليه السلام)", "قصص النبي نوح (ع)", 
        "النبي هود (عليه السلام) وقومه عاد", "النبي صالح (عليه السلام) وقومه ثمود", 
        "النبي إبراهيم (عليه السلام)", "النبي لوط (عليه السلام) وقومه", "سيرة ذي القرنين (ع)", 
        "سيرة النبي يعقوب ويوسف (عليهما السلام)", "سيرة النبي شعيب (عليه السلام)", 
        "سيرة النبي أيوب (ع)", "موسى وهارون (عليهما السلام)", "النبي داود (عليه السلام)", 
        "لقمان الحكيم", "النبي سليمان (عليه السلام)", "النبي زكريا ويحيى (عليهما السلام)", 
        "النبي عيسى وأمه (عليهما السلام)", "النبي يونس (عليه السلام)", "قصة أصحاب الكهف والرقيم", 
        "في أخبار بني إسرائيل وأحوال بعض الملوك", "قصة قوم سبأ (سيل العرم)", 
        "قصص أرميا ودانيال وعزير وبختنصر", "أصحاب الأخدود وجرجيس وخالد بن سنان", 
        "أصحاب الرس وحنظلة النبي", "قصة شعيا وحبقوق", "متفرقات"
    ],
                 
    "شخصيات (أصحاب وعلماء ونساء)": [
        "السيدة خديجة الكبرى (ع)", "السيدة زينب (ع)", "السيدة أم البنين (ع)", 
        "أبو الفضل العباس (ع)", "علي الأكبر (ع)", "القاسم بن الحسن (ع)", 
        "سلمان المحمدي", "أبو ذر الغفاري", "السيد محمد الصدر", 
        "السيد محمد باقر الصدر", "السيد مقتدى الصدر", "المقداد بن الأسود", 
        "عمار بن ياسر", "مالك الأشتر", "مسلم بن عقيل (ع)", 
        "المختار الثقفي", "حبيب بن مظاهر الأسدي", "ميثم التمار", 
        "كميل بن زياد", "الخواجة نصير الدين الطوسي", "الشيخ المفيد", "الشيخ الطوسي"
    ],

    "القرآن ونهج البلاغة": [
        "معاني مفردات القرآن", "أسباب النزول", "الناسخ والمنسوخ", 
        "الأمثال في القرآن", "الخطبة الشقشقية", "خطبة المتقين", 
        "عهد الإمام لمالك الأشتر", "حكم ومواعظ نهج البلاغة", "الصحيفة السجادية"
    ],

    "عقائد وفقه": [
        "أصول الدين", "التوحيد وصفات الله", "العدل الإلهي", "النبوة", 
        "الإمامة والولاية", "عالم البرزخ", "المعاد ويوم القيامة", 
        "الشفاعة", "الرجعة", "البداء", "فروع الدين", 
        "أحكام الصلاة", "أحكام الصوم", "أحكام الخمس", 
        "أحكام الحج والعمرة", "الأمر بالمعروف والنهي عن المنكر", "الطهارة والنجاسات"
    ],

    "الثقافة المهدوية": [
        "علامات الظهور", "السفراء الأربعة", "الغيبة الصغرى", 
        "الغيبة الكبرى", "وظائف المنتظرين", "أصحاب الإمام المهدي", "دولة العدل الإلهي"
    ],

    "تاريخ ومعارك": [
        "الهجرة النبوية", "معركة بدر الكبرى", "معركة أحد", 
        "معركة الخندق (الأحزاب)", "معركة خيبر", "فتح مكة", 
        "معركة حنين", "حروب الردة", "حرب الجمل", 
        "معركة صفين", "معركة النهروان", "صلح الإمام الحسن (ع)", 
        "واقعة كربلاء", "يوم المباهلة", "عيد الغدير الأغر", 
        "حديث الكساء (الحدث)", "فاجعة هدم البقيع"
    ],

    "أدعية وزيارات": [
        "دعاء كميل", "دعاء الصباح", "دعاء التوسل", "دعاء العهد", 
        "دعاء الندبة", "دعاء الافتتاح", "دعاء أبي حمزة الثمالي", 
        "دعاء عرفة", "المناجاة الشعبانية", "زيارة عاشوراء", 
        "زيارة الأربعين", "الزيارة الجامعة الكبيرة", "دعاء اهل الثغور", 
        "زيارة آل يس", "زيارة أمين الله"
    ]
};

// 2. إعدادات نظام الأوسمة (Badges System)
export const infallibles = [
    { name: "النبي محمد", topic: "سيرة النبي محمد (ص)", id: "prophet_muhammad", icon: "mosque" },
    { name: "الإمام علي", topic: "سيرة الإمام علي (ع)", id: "imam_ali", icon: "swords" },
    { name: "السيدة فاطمة", topic: "السيدة فاطمة الزهراء (ع)", id: "fatima_zahra", icon: "filter_vintage" },
    { name: "الإمام الحسن", topic: "سيرة الإمام الحسن المجتبى (ع)", id: "imam_hasan", icon: "handshake" },
    { name: "الإمام الحسين", topic: "سيرة الإمام الحسين (ع)", id: "imam_hussein", icon: "water_drop" },
    { name: "الإمام السجاد", topic: "سيرة الإمام السجاد (ع)", id: "imam_sajjad", icon: "menu_book" },
    { name: "الإمام الباقر", topic: "سيرة الإمام الباقر (ع)", id: "imam_baqir", icon: "science" },
    { name: "الإمام الصادق", topic: "سيرة الإمام الصادق (ع)", id: "imam_sadiq", icon: "school" },
    { name: "الإمام الكاظم", topic: "سيرة الإمام الكاظم (ع)", id: "imam_kadhim", icon: "lock_open" },
    { name: "الإمام الرضا", topic: "سيرة الإمام الرضا (ع)", id: "imam_ridha", icon: "explore" },
    { name: "الإمام الجواد", topic: "سيرة الإمام الجواد (ع)", id: "imam_jawad", icon: "child_care" },
    { name: "الإمام الهادي", topic: "سيرة الإمام الهادي (ع)", id: "imam_hadi", icon: "church" },
    { name: "الإمام العسكري", topic: "سيرة الإمام العسكري (ع)", id: "imam_askari", icon: "security" },
    { name: "الإمام المهدي", topic: "الإمام المهدي (عج)", id: "imam_mahdi", icon: "hourglass_top" }
];

export const topicBadgesList = [
    { id: 'prophets', name: 'قصص الأنبياء', key: 'الأنبياء والرسل', icon: 'history_edu' },
    { id: 'quran', name: 'علوم القرآن', key: 'القرآن ونهج البلاغة', icon: 'auto_stories' },
    { id: 'history', name: 'التاريخ الإسلامي', key: 'تاريخ ومعارك', icon: 'flag_circle' },
    { id: 'fiqh', name: 'الفقه والعقائد', key: 'عقائد وفقه', icon: 'balance' },
    { id: 'mahdi', name: 'الثقافة المهدوية', key: 'الثقافة المهدوية', icon: 'hourglass_bottom' },
    { id: 'dua', name: 'الدعاء والزيارة', key: 'أدعية وزيارات', icon: 'volunteer_activism' },
    { id: 'companions', name: 'سير الصحابة', key: 'شخصيات (أصحاب وعلماء ونساء)', icon: 'groups' }
];

export const TIER_CONFIG = [
    { id: 1, label: 'برونزي' }, 
    { id: 2, label: 'فضي' }, 
    { id: 3, label: 'ذهبي' }, 
    { id: 4, label: 'ماسي' }, 
    { id: 5, label: 'أسطوري' }
];

// دالة مساعدة لتوليد كائن الوسام
function generateBadge(baseId, name, icon, targetBase) {
    const levels = TIER_CONFIG.map(tier => ({ 
        id: tier.id, 
        label: tier.label, 
        target: Math.floor(targetBase * (tier.id === 4 ? 20 : (tier.id === 5 ? 50 : (tier.id === 3 ? 8 : (tier.id === 2 ? 3 : 1))))) 
    }));
    return { id: baseId, name: name, icon: icon, levels: levels };
}

// بناء القائمة الكاملة للأوسمة (Runtime Generation)
export const badgesData = [];

// 1. أوسمة المعصومين
infallibles.forEach(p => badgesData.push(generateBadge(`lover_${p.id}`, `عاشق ${p.name.split(' ').pop()}`, p.icon, 10)));

// 2. أوسمة المواضيع
topicBadgesList.forEach(t => badgesData.push(generateBadge(`master_${t.id}`, `خبير ${t.name}`, t.icon, 15)));

// 3. أوسمة الإنجازات العامة
badgesData.push(generateBadge('streak_master', 'الثبات العظيم', 'local_fire_department', 5));
badgesData.push(generateBadge('speed_demon', 'البرق الخاطف', 'bolt', 5));
badgesData.push(generateBadge('perfectionist', 'العلامة الكاملة', 'verified', 2));
badgesData.push(generateBadge('purist', 'الواثق بنفسه', 'do_not_disturb', 3));
badgesData.push(generateBadge('score_tycoon', 'جامع النقاط', 'savings', 1000));
badgesData.push(generateBadge('knowledge_seeker', 'الموسوعة', 'library_books', 50));
badgesData.push(generateBadge('veteran', 'المحارب القديم', 'military_tech', 10));
badgesData.push(generateBadge('night_owl', 'أنيس الليل', 'bedtime', 3));
badgesData.push(generateBadge('early_bird', 'بركة البكور', 'wb_twilight', 3));
badgesData.push(generateBadge('friday_loyal', 'جمعة الانتظار', 'calendar_month', 2));
badgesData.push(generateBadge('reader', 'المُطّلع', 'menu_book', 10));
badgesData.push(generateBadge('supporter', 'الداعم السخي', 'shopping_bag', 2));

// تصدير خريطة الأوسمة للبحث السريع (Map for O(1) Lookup)
export const badgesMap = badgesData.reduce((acc, badge) => { 
    acc[badge.id] = badge; 
    return acc; 
}, {});
